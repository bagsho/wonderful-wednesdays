---
title: "Missing data"
author: "Orhan"
date: "04 03 2021"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(
  echo = TRUE,
  message = FALSE,
  warning = FALSE
)
```

libraries
```{r}
library(tidyverse)
```

```{r}
missing_data <- readr::read_csv("https://raw.githubusercontent.com/VIS-SIG/Wonderful-Wednesdays/master/data/2021/2021-02-10/missing_data.csv")
View(missing_data)
```

In order to think clearly, first, I want to drop pain.bin variables.
```{r}
data <- missing_data %>%
  select(-starts_with("pain.bin"))
View(data)
```

Lets look at the data as heatmap.
```{r}
data_long<-data %>%  
  mutate(patient=1:nrow(data)) %>% 
  pivot_longer(
    cols = starts_with("pain."),
    names_to = "visit",
    names_prefix = "pain.",values_to = "pain",
    values_drop_na = FALSE
  ) %>% 
  mutate(visit=as.integer(visit))

data_long %>% ggplot(aes(x=visit,y=patient))+
                geom_tile(aes(fill=pain))
```


